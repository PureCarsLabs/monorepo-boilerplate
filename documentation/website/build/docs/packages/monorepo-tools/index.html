<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>@monorepo/tools · Monorepo</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This core package provides other packages with some scripts that encapsulate `eslint` and `prettier` logic."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="@monorepo/tools · Monorepo"/><meta property="og:type" content="website"/><meta property="og:url" content="https://monorepo-documentation.firebaseapp.com/index.html"/><meta property="og:description" content="This core package provides other packages with some scripts that encapsulate `eslint` and `prettier` logic."/><meta property="og:image" content="https://monorepo-documentation.firebaseapp.com/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://monorepo-documentation.firebaseapp.com/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://monorepo-documentation.firebaseapp.com/blog/atom.xml" title="Monorepo Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://monorepo-documentation.firebaseapp.com/blog/feed.xml" title="Monorepo Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/monorepo-icon.svg" alt="Monorepo"/><h2 class="headerTitleWithLogo">Monorepo</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/overview" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/getting-started" target="_self">Get Started</a></li><li class="siteNavGroupActive"><a href="/docs/faqs" target="_self">FAQs</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Packages</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Welcome</h3><ul><li class="navListItem"><a class="navItem" href="/docs/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/documentation-intro">About Docs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/development/contributing">Contributing</a></li><li class="navListItem"><a class="navItem" href="/docs/development/scripts">Scripts</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Directory Structure</h3><ul><li class="navListItem"><a class="navItem" href="/docs/directory-structure/directory-structure-overview">Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Packages</h3><ul><li class="navListItem navListItemActive"><a class="navItem" href="/docs/packages/monorepo-tools">@monorepo/tools</a></li><li class="navListItem"><a class="navItem" href="/docs/packages/monorepo-scripts">@monorepo/scripts</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">The Future</h3><ul><li class="navListItem"><a class="navItem" href="/docs/roadmap">Roadmap</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Help</h3><ul><li class="navListItem"><a class="navItem" href="/docs/faqs">FAQs</a></li><li class="navListItem"><a class="navItem" href="/docs/gotchas">Gotchas</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docMainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">@monorepo/tools</h1></header><article><div><span><p>This core package provides other packages with some scripts that encapsulate <code>eslint</code> and <code>prettier</code> logic.</p>
<h2><a class="anchor" aria-hidden="true" id="getting-started"></a><a href="#getting-started" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started</h2>
<blockquote>
<p>I am expecting that once we get some templating tools built out, this package will be included in the base templates and this won't be a manual step for anyone. However, it will help to describe what's happening inside of <code>monorepo-tools</code> and how another package can use its scripts.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="1-add-monorepo-tools-as-a-devdependency-to-your-package"></a><a href="#1-add-monorepo-tools-as-a-devdependency-to-your-package" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Add <code>@monorepo/tools</code> as a devDependency to your package.</h3>
<p>Your package.json:</p>
<pre><code class="hljs css language-JSON">{
  <span class="hljs-attr">"devDependencies"</span>: {
    <span class="hljs-attr">"@monorepo/tools"</span>: <span class="hljs-string">"0.0.1"</span>
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="2-call-the-monorepo-tools-scripts-from-your-package-s-scripts"></a><a href="#2-call-the-monorepo-tools-scripts-from-your-package-s-scripts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Call the <code>monorepo-tools</code> scripts from your package's scripts.</h3>
<p>Example:</p>
<pre><code class="hljs css language-JSON">{
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"lint"</span>: <span class="hljs-string">"monorepo-tools lint ./src"</span>,
    <span class="hljs-attr">"pre-commit"</span>: <span class="hljs-string">"monorepo-tools pre-commit"</span>
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="3-create-necessary-configuration-files-in-your-package-s-root-directory"></a><a href="#3-create-necessary-configuration-files-in-your-package-s-root-directory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Create necessary configuration files in your package's root directory.</h3>
<p>In order for the scripts to work, your package needs to define several config for the tools (e.g. <code>eslint</code>, <code>prettier</code>, <code>lint-staged</code>) that <code>monorepo-tools</code> uses under the hood. You can simply create the files and copy the example contents below to get started - and when you need it, you can just write JavaScript to extend the base config. All of the config files will either be automatically used by the specific tools or pointed to directly from one of the scripts defined in this package.</p>
<blockquote>
<p>This isn't ideal - ideally there would be a base config that would be used and extending it would be optional. But I'll push that off to a later feature for now.</p>
</blockquote>
<p><strong>.eslintrc.js</strong></p>
<pre><code class="hljs css language-JS"><span class="hljs-keyword">const</span> baseConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@monorepo/tools/eslint-config/react'</span>)

<span class="hljs-built_in">module</span>.exports = baseConfig
</code></pre>
<p><strong>prettier.config.js</strong></p>
<pre><code class="hljs css language-JS"><span class="hljs-keyword">const</span> baseConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@monorepo/tools/prettier-config/react"</span>)

<span class="hljs-built_in">module</span>.exports = baseConfig
</code></pre>
<p><strong>lint-staged.config.js</strong></p>
<p>The <code>lint-staged</code> doesn't actually extend anything yet due to the nature of the file structure. Certain packages may need completely custom <code>src</code> paths so, right now, it just expects a full config object and there is no base defined in <code>@monorepo/tools</code>.</p>
<pre><code class="hljs css language-JS"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-string">"./src/**/*.js"</span>: [<span class="hljs-string">'monorepo-tools lint-fail-on-warn ./src'</span>, <span class="hljs-string">'git add'</span>]
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="scripts"></a><a href="#scripts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scripts</h2>
<p>This section describes all of the different available scripts and their expected arguments that can be run.</p>
<p>All of the scripts currently exist in <code>tools.sh</code> which is exposed via the <code>&quot;bin&quot;</code> config option in <code>@monorepo/tools/package.json</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="lint"></a><a href="#lint" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>lint</h3>
<p><code>monorepo-tools lint &lt;src&gt;</code></p>
<p><strong>args</strong></p>
<ul>
<li><code>src</code> - the src file or directory that is passed to eslint to be linted</li>
</ul>
<blockquote>
<p>This script also passes the <code>--fix</code> flag to eslint to format the files based on the <code>prettier</code> config. The <code>prettier</code> plugin is used in the base <code>eslint</code> config so that prettier is used to format the files instead of <code>eslint</code>. Use the <code>lint-only</code> script if you do not want the files to be formatted.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="lint-only"></a><a href="#lint-only" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>lint-only</h3>
<p><code>monorepo-tools lint-only &lt;src&gt;</code></p>
<p><strong>args</strong></p>
<ul>
<li><code>src</code> - the src file or directory that is passed to eslint to be linted</li>
</ul>
<blockquote>
<p>This script does not format the files.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="lint-fail-on-warn"></a><a href="#lint-fail-on-warn" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>lint-fail-on-warn</h3>
<p><code>monorepo-tools lint-fail-on-warn &lt;src&gt;</code></p>
<p><strong>args</strong></p>
<ul>
<li><code>src</code> - the src file or directory that is passed to eslint to be linted</li>
</ul>
<blockquote>
<p>This script auto-formats the files (like the <code>lint</code> script does) and will fail if there are any eslint warnings.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="pre-commit"></a><a href="#pre-commit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pre-commit</h3>
<p><code>monorepo-tools pre-commit</code></p>
<p><strong>args</strong></p>
<p><em>This script accepts no arguments.</em></p>
<blockquote>
<p>This script simply calls the <code>lint-staged</code> script that will use your packages <code>lint-staged.config.js</code>. See the <a href="#3-create-necessary-configuration-files-in-your-package-s-root-directory">lint-staged.config.js</a> section on how to configure <code>lint-staged</code>.</p>
</blockquote>
<h1><a class="anchor" aria-hidden="true" id="todo"></a><a href="#todo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TODO</h1>
<ul>
<li>[] use a default config for tooling if one isn't provided by user</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/directory-structure/directory-structure-overview"><span class="arrow-prev">← </span><span>Previous</span></a><a class="docs-next button" href="/docs/packages/monorepo-scripts"><span>Next</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav docOnPageNav"><ul class="toc-headings"><li><a href="#getting-started">Getting Started</a><ul class="toc-headings"><li><a href="#1-add-monorepo-tools-as-a-devdependency-to-your-package">1. Add <code>@monorepo/tools</code> as a devDependency to your package.</a></li><li><a href="#2-call-the-monorepo-tools-scripts-from-your-package-s-scripts">2. Call the <code>monorepo-tools</code> scripts from your package's scripts.</a></li><li><a href="#3-create-necessary-configuration-files-in-your-package-s-root-directory">3. Create necessary configuration files in your package's root directory.</a></li></ul></li><li><a href="#scripts">Scripts</a><ul class="toc-headings"><li><a href="#lint">lint</a></li><li><a href="#lint-only">lint-only</a></li><li><a href="#lint-fail-on-warn">lint-fail-on-warn</a></li><li><a href="#pre-commit">pre-commit</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/monorepo-icon.svg" alt="Monorepo" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/overview">About</a><a href="/docs/getting-started">Getting Started</a></div><div><h5>Community</h5><a href="#">No Community Links Yet</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://bitbucket.org/joelkanzelmeyer/monorepo-prototype/src">Bitbucket</a></div></section><section class="copyright">Copyright © 2018 PureCars Labs</section></footer></div></body></html>